
def isTopLevelBuild = gradle.getParent() == null

assert gradle.startParameter.buildCacheEnabled : "Build caching is not enabled. Please enable build caching and run this experiment again"

if (isTopLevelBuild) {
    settingsEvaluated { settings ->
        assert settings.buildCache.local.enabled : "The local build cache is disabled. In order to run this experiment, the local build cache needs to be enabled"
        assert settings.buildCache.local.push : "Push to the local build cache is not enabled. In order to run this experiment, pushing to the local build cache needs to be enabled"
        assert settings.buildCache.remote == null || !settings.buildCache.remote.enabled : "The remote build cache is enabled. Please disable the remote build cache before running this experiment"
    }
}

